{"version":3,"file":"../admin-helper.js","sources":["admin-helper.js"],"sourcesContent":["/*!\n * Admin screen helper for Gianism\n */\n\njQuery( document ).ready( function ( $ ) {\n\n\t\"use strict\";\n\n\t// Create appendix\n\t$( '.gianism-wrap' ).find( 'h3,caption' ).each( function ( index, elt ) {\n\t\t$( elt ).attr( 'id', 'index_' + index );\n\t\t$( '#index-list' ).append( '<li><a href=\"#index_' + index + '\">' + $( elt ).text() + '</a></li>' );\n\t} );\n\n\t// Notice dismiss\n\t$( '.gianism-admin-notice' ).click( function ( e ) {\n\t\te.preventDefault();\n\t\tvar $btn = $( this );\n\t\t$.get( $btn.attr( 'data-endpoint' ) ).done( function ( response ) {\n\t\t\tif ( response.success ) {\n\t\t\t\t$btn.parents( 'div.error' ).remove();\n\t\t\t} else {\n\t\t\t\twindow.alert( 'Error' );\n\t\t\t}\n\t\t} ).fail( function ( response ) {\n\t\t\twindow.alert( response.responseJSON.data );\n\t\t} );\n\t} );\n\n\t// Toggle conditional inputs.\n\t$( '.gianism-toggle' ).each( function( index, p ) {\n\t\tvar $p = $( p );\n\t\tvar $target = $( $p.attr( 'data-target' ) );\n\t\tvar list = $p.attr( 'data-valid' ).split( ',' );\n\t\tif ( -1 < list.indexOf( $target.val() ) ) {\n\t\t\t$p.addClass( 'toggle' );\n\t\t}\n\t\t$target.change( function() {\n\t\t\tif ( -1 < list.indexOf( $( this ).val() ) ) {\n\t\t\t\t$p.addClass( 'toggle' ).effect( 'highlight' );\n\t\t\t} else if ( $p.hasClass( 'toggle' ) ) {\n\t\t\t\t$p.effect( 'highlight', {}, 400, function() {\n\t\t\t\t\t$p.removeClass( 'toggle' );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t} );\n} );\n"],"names":["jQuery","document","ready","$","find","each","index","elt","attr","append","text","click","e","preventDefault","$btn","this","get","done","response","success","parents","remove","window","alert","fail","responseJSON","data","p","$p","$target","list","split","indexOf","val","addClass","change","effect","hasClass","removeClass"],"mappings":"AAIAA,OAAQC,QAAS,EAAEC,MAAO,SAAWC,GAKpCA,EAAG,eAAgB,EAAEC,KAAM,YAAa,EAAEC,KAAM,SAAWC,EAAOC,GACjEJ,EAAGI,CAAI,EAAEC,KAAM,KAAM,SAAWF,CAAM,EACtCH,EAAG,aAAc,EAAEM,OAAQ,uBAAyBH,EAAQ,KAAOH,EAAGI,CAAI,EAAEG,KAAK,EAAI,WAAY,CAClG,CAAE,EAGFP,EAAG,uBAAwB,EAAEQ,MAAO,SAAWC,GAC9CA,EAAEC,eAAe,EACjB,IAAIC,EAAOX,EAAGY,IAAK,EACnBZ,EAAEa,IAAKF,EAAKN,KAAM,eAAgB,CAAE,EAAES,KAAM,SAAWC,GACjDA,EAASC,QACbL,EAAKM,QAAS,WAAY,EAAEC,OAAO,EAEnCC,OAAOC,MAAO,OAAQ,CAExB,CAAE,EAAEC,KAAM,SAAWN,GACpBI,OAAOC,MAAOL,EAASO,aAAaC,IAAK,CAC1C,CAAE,CACH,CAAE,EAGFvB,EAAG,iBAAkB,EAAEE,KAAM,SAAUC,EAAOqB,GAC7C,IAAIC,EAAKzB,EAAGwB,CAAE,EACVE,EAAU1B,EAAGyB,EAAGpB,KAAM,aAAc,CAAE,EACtCsB,EAAOF,EAAGpB,KAAM,YAAa,EAAEuB,MAAO,GAAI,EACzC,CAAC,EAAID,EAAKE,QAASH,EAAQI,IAAI,CAAE,GACrCL,EAAGM,SAAU,QAAS,EAEvBL,EAAQM,OAAQ,WACV,CAAC,EAAIL,EAAKE,QAAS7B,EAAGY,IAAK,EAAEkB,IAAI,CAAE,EACvCL,EAAGM,SAAU,QAAS,EAAEE,OAAQ,WAAY,EACjCR,EAAGS,SAAU,QAAS,GACjCT,EAAGQ,OAAQ,YAAa,GAAI,IAAK,WAChCR,EAAGU,YAAa,QAAS,CAC1B,CAAE,CAEJ,CAAE,CACH,CAAE,CACH,CAAE"}